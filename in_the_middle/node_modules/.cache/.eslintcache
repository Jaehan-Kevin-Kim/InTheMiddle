[{"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\index.js":"1","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\App.js":"2","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\firebase.js":"3","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shop\\Shop.js":"4","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\uploadItem\\UploadItem.js":"5","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\main\\Main.js":"6","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\login\\Login.js":"7","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\manageItem\\ManageItem.js":"8","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shopDetail\\ShopDetail.js":"9","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\manageItem\\ManageItemEach.js":"10","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shop\\ShopItem.js":"11","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\header\\Header.js":"12","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\searchBar\\SearchResult.js":"13","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Feed.js":"14","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\FeedInputOption.js":"15","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Post.js":"16","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\PostInputOption.js":"17","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Comments.js":"18","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\index.js":"19","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\newposts.js":"20","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\items.js":"21","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\actions\\newPostsAction.js":"22","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\newPostsReducer.js":"23","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\itemsReducer.js":"24"},{"size":506,"mtime":1623463644491,"results":"25","hashOfConfig":"26"},{"size":2181,"mtime":1625794990964,"results":"27","hashOfConfig":"26"},{"size":543,"mtime":1620434462328,"results":"28","hashOfConfig":"26"},{"size":7222,"mtime":1625795244932,"results":"29","hashOfConfig":"26"},{"size":4081,"mtime":1620445761539,"results":"30","hashOfConfig":"26"},{"size":1129,"mtime":1621736146828,"results":"31","hashOfConfig":"26"},{"size":3320,"mtime":1625539490489,"results":"32","hashOfConfig":"26"},{"size":1737,"mtime":1622848134715,"results":"33","hashOfConfig":"26"},{"size":2948,"mtime":1625794890817,"results":"34","hashOfConfig":"26"},{"size":1612,"mtime":1620444990962,"results":"35","hashOfConfig":"26"},{"size":1675,"mtime":1625795240427,"results":"36","hashOfConfig":"26"},{"size":6567,"mtime":1625465538855,"results":"37","hashOfConfig":"26"},{"size":341,"mtime":1620439517320,"results":"38","hashOfConfig":"26"},{"size":4133,"mtime":1625264960251,"results":"39","hashOfConfig":"26"},{"size":350,"mtime":1619224013714,"results":"40","hashOfConfig":"26"},{"size":2055,"mtime":1621742553951,"results":"41","hashOfConfig":"26"},{"size":337,"mtime":1619224013719,"results":"42","hashOfConfig":"26"},{"size":2476,"mtime":1621743782648,"results":"43","hashOfConfig":"26"},{"size":248,"mtime":1625267693808,"results":"44","hashOfConfig":"26"},{"size":1083,"mtime":1623463256903,"results":"45","hashOfConfig":"26"},{"size":1025,"mtime":1623463156897,"results":"46","hashOfConfig":"26"},{"size":354,"mtime":1623994307103,"results":"47","hashOfConfig":"26"},{"size":1289,"mtime":1625265706410,"results":"48","hashOfConfig":"26"},{"size":365,"mtime":1625268571580,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"8xirhv",{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"52"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\index.js",[],["105","106"],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\App.js",["107","108"],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\firebase.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shop\\Shop.js",["109","110","111","112","113","114","115","116","117","118","119","120","121","122","123"],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\uploadItem\\UploadItem.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\main\\Main.js",["124","125","126"],"import React from \"react\";\r\nimport \"./Main.css\";\r\nimport Header from \"../header/Header\";\r\nimport Shop from \"../shop/Shop\";\r\nimport { BrowserRouter, Link, Route } from \"react-router-dom\";\r\n\r\n// function Main({ onShopClick }) {\r\nfunction Main() {\r\n  // const onClick = () => {\r\n  //   <Shop />;\r\n  // };\r\n  // const toShop = () => {\r\n  //   <BrowserRouter>\r\n  //     <Route path='/shop' component={Shop}>\r\n  //       <Shop />\r\n  //     </Route>\r\n  //   </BrowserRouter>;\r\n  // };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className='main__main'>\r\n        <div className='main__bennerImg'>\r\n          <img src='' alt='' />\r\n        </div>\r\n        <div className='main__selectBox'>\r\n          <div className='selectBox'>\r\n            {/* <button onClick={onShopClick}>Shop</button> */}\r\n            <Link to='/shop'>\r\n              <button>Shop</button>\r\n            </Link>\r\n\r\n            {/* </div>\r\n          <div className='selectBox'> */}\r\n            <Link to='/feed'>\r\n              <button>Feed</button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\login\\Login.js",["127","128","129","130","131"],"import React, { useEffect, useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { db, auth } from \"../../firebase\";\r\nimport firebase from \"firebase\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginEmail, setLoginEmail] = useState(\"\");\r\n  const [loginPassword, setLoginPassword] = useState(\"\");\r\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\r\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscriobe = auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        //user login\r\n        setUser(authUser);\r\n      } else {\r\n        //user log out\r\n        setUser(null);\r\n      }\r\n    });\r\n    return () => {\r\n      //perform some cleanup action\r\n      unsubscriobe();\r\n    };\r\n  }, [user]);\r\n  console.log(user);\r\n\r\n  // useEffect(() => {\r\n  //   db.collection\r\n  // })\r\n\r\n  const onSocialClick = async (event) => {\r\n    const {\r\n      target: { name },\r\n    } = event;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new firebase.auth.GoogleAuthProvider();\r\n    } else if (name === \"github\") {\r\n      provider = new firebase.auth.GithubAuthProvider();\r\n    }\r\n    const data = await auth.signInWithPopup(provider);\r\n    console.log(data);\r\n  };\r\n\r\n  const signUp = (event) => {\r\n    event.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(signUpEmail, signUpPassword)\r\n      .then((authUser) => {\r\n        //update user\r\n        return authUser.user.updateProfile({\r\n          displayName: signUpEmail,\r\n        });\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n\r\n  const login = (event) => {\r\n    event.preventDefault();\r\n\r\n    const data = auth\r\n      .signInWithEmailAndPassword(loginEmail, loginPassword)\r\n      .catch((error) => alert(error.message));\r\n    console.log(data);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWithEmail\">\r\n        <input\r\n          type=\"email\"\r\n          value={loginEmail}\r\n          placeholder=\"Email\"\r\n          onChange={(e) => setLoginEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          value={loginPassword}\r\n          placeholder=\"Password\"\r\n          onChange={(e) => setLoginPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\" onClick={login}>\r\n          Login\r\n        </button>\r\n      </div>\r\n      <div className=\"authBtns\">\r\n        <button onClick={onSocialClick} name=\"google\" className=\"authBtn\">\r\n          Continue with Google\r\n        </button>\r\n        <button onClick={onSocialClick} name=\"github\" className=\"authBtn\">\r\n          Continue with Github\r\n        </button>\r\n      </div>\r\n      <div className=\"signUp\">\r\n        <input\r\n          type=\"email\"\r\n          value={signUpEmail}\r\n          placeholder=\"Email\"\r\n          onChange={(e) => setSignUpEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) => setSignUpPassword(e.target.value)}\r\n          value={signUpPassword}\r\n          placeholder=\"Password\"\r\n        />\r\n        <button type=\"submit\" onClick={signUp}>\r\n          sign up\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\manageItem\\ManageItem.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shopDetail\\ShopDetail.js",["132","133","134"],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\manageItem\\ManageItemEach.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\shop\\ShopItem.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\header\\Header.js",["135","136","137","138","139"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport NotificationsNoneIcon from \"@material-ui/icons/NotificationsNone\";\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport \"./Header.css\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport SearchResult from \"../searchBar/SearchResult\";\r\nimport Shop from \"../shop/Shop\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ITEM } from \"../../reducers/itemsReducer\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const [items, setItems] = useState([]);\r\n  const [searchedItem, setSearchedItem] = useState([]);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [searchCategory, setSearchCategory] = useState(\"\");\r\n  const [searchLocation, setSearchLocation] = useState(\"\");\r\n  const [searchBtnClicked, setSearchBtnClicked] = useState(false);\r\n  const [logOutActive, setLogOutActive] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    db.collection(\"items\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) =>\r\n        setItems(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        )\r\n      );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSearchBtnClicked(false);\r\n    // setSearchedItem([]);\r\n    // setSearchedItem([]);\r\n    // console.log(searchedItem);\r\n  }, [searchBtnClicked]);\r\n\r\n  useEffect(() => {\r\n    console.log(searchedItem);\r\n\r\n    return dispatch(\r\n      {\r\n        // itemsReducer({\r\n        type: ITEM,\r\n        payload: {\r\n          items: searchedItem,\r\n        },\r\n      }\r\n      // })\r\n    );\r\n  }, [searchedItem]);\r\n\r\n  const itemSearch = () => {\r\n    // console.log(searchName);\r\n    // console.log(\"itemSearchButton\");\r\n    if (searchName !== \"\" || searchCategory !== \"\" || searchLocation !== \"\") {\r\n      // console.log(\"check\");\r\n      setSearchBtnClicked(true);\r\n      /*\r\n      const result = items.filter((item) => {\r\n        item.data.itemName.toLowerCase().includes(searchName.toLowerCase());\r\n\r\n        // console.log(item.data.itemName);\r\n        // if (item.data.itemName.includes(searchName)) {\r\n        //   setSearchedItem((prevState) => {\r\n        //     return [...prevState, { itemName: item.data.itemName }];\r\n        //   });\r\n        // }\r\n        // item.data.itemName.includes(searchName);\r\n      });\r\n      setSearchedItem((prevState) => {\r\n        return [...prevState, result];\r\n      });\r\n      console.log(result);\r\n      console.log(searchedItem);\r\n      */\r\n\r\n      items.map((item) => {\r\n        // let value;\r\n        // console.log(item.data.itemName);\r\n        // console.log(item.data.itemName.toLowerCase().includes(searchName.toLowerCase()));\r\n\r\n        if (item.data.itemName.toLowerCase().includes(searchName.toLowerCase())) {\r\n          // console.log(\"value\", item.data.itemName);\r\n\r\n          setSearchedItem((prevSearched) => {\r\n            // console.log(\"prevSearched\", prevSearched);\r\n            // console.log(searchedItem);\r\n            return [...prevSearched, item];\r\n          });\r\n\r\n          /*backup ----\r\n           setSearchedItem((prevSearched) => {\r\n            console.log(\"prevSearched\", prevSearched);\r\n            console.log(searchedItem);\r\n            return [...prevSearched, item.data.itemName];\r\n          });\r\n          */\r\n        }\r\n      });\r\n\r\n      // setSearchedItem([]);\r\n\r\n      //   items.map((item) => {\r\n      //     console.log(item.data.itemName);\r\n      //     console.log(item.data.itemName.toLowerCase().includes(searchName.toLowerCase()));\r\n      //     if (item.data.itemName.includes(searchName)) {\r\n      //       setSearchedItem((prevState) => {\r\n      //         return [...prevState, { itemName: item.data.itemName }];\r\n      //       });\r\n      //     }\r\n      //   });\r\n      // }\r\n      // console.log(\"searchedItem\", searchedItem);\r\n      // setSearchName(\"\");\r\n      // setSearchCategory(\"\");\r\n      // setSearchLocation(\"\");\r\n    }\r\n\r\n    setSearchName(\"\");\r\n    setSearchCategory(\"\");\r\n    setSearchLocation(\"\");\r\n    // return <Shop searchedItem={searchedItem} />;\r\n  };\r\n\r\n  const logoutEvent = () => {\r\n    auth.signOut();\r\n    // history.push(\"/\");\r\n    setLogOutActive(true);\r\n\r\n    // <Link to=\"/\" />;\r\n  };\r\n\r\n  return logOutActive ? (\r\n    <Redirect to=\"/\" />\r\n  ) : (\r\n    <>\r\n      <div className=\"header__main\">\r\n        <div className=\"header__main__left\">\r\n          <Link to=\"/\">\r\n            <img className=\"header__main__logo\" src=\"../../images/logo.png\" alt=\"logo\" />\r\n          </Link>\r\n          <div className=\"header__main__left__inputs\">\r\n            <input\r\n              type=\"text\"\r\n              value={searchName}\r\n              onChange={(e) => setSearchName(e.target.value)}\r\n              placeholder=\"Search item or location...\"\r\n            />\r\n            <div className=\"ExpandMoreIcon\">\r\n              <input\r\n                type=\"text\"\r\n                value={searchCategory}\r\n                onChange={(e) => setSearchCategory(e.target.value)}\r\n                placeholder=\"All category\"\r\n              />\r\n              <ExpandMoreIcon />\r\n            </div>\r\n            <div className=\"locationBox\">\r\n              <LocationOnIcon />\r\n              <input\r\n                type=\"text\"\r\n                value={searchLocation}\r\n                onChange={(e) => setSearchLocation(e.target.value)}\r\n                placeholder=\"Calgary, Alberta\"\r\n              />\r\n            </div>\r\n            <div className=\"searchBox\">\r\n              <SearchIcon onClick={itemSearch} />\r\n              {searchBtnClicked && <Shop searchedItem={searchedItem} />}\r\n              {/* {searchedItem && <Shop searchedItem={searchedItem} />} */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"header__main__right\">\r\n          <FavoriteBorderIcon />\r\n          <NotificationsNoneIcon />\r\n          <ChatBubbleOutlineIcon />\r\n          {/* <a href=\"/\"> */}\r\n          <Avatar onClick={logoutEvent} className=\"header__main__right__avatar\">\r\n            J\r\n          </Avatar>\r\n          {/* </a> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\components\\searchBar\\SearchResult.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Feed.js",["140","141"],"import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../components/header/Header\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport \"./Feed.css\";\r\nimport FeedInputOption from \"./FeedInputOption\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport SubscriptionsIcon from \"@material-ui/icons/Subscriptions\";\r\nimport EventNoteIcon from \"@material-ui/icons/EventNote\";\r\nimport CalendarViewDayIcon from \"@material-ui/icons/CalendarViewDay\";\r\nimport Post from \"./Post\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"../firebase\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { newPostAction } from \"../actions/newPostsAction\";\r\n\r\nfunction Feed({ userId, user }) {\r\n  const [input, setInput] = useState(\"\");\r\n  const [posts, setPosts] = useState([]);\r\n  const [email, setEmail] = useState();\r\n  const [postId, setPostId] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const feeds = useSelector((state) => state.newpostsReducer.post);\r\n  if (feeds) {\r\n    console.log(\"feeds\", feeds);\r\n  }\r\n  // console.log(\"feeds:\", feeds);\r\n  // const user = useSelector(selectUser);\r\n  // console.log(user);\r\n  // console.log(userId);\r\n\r\n  // console.log(user);\r\n  // const displayName = user.displayName;\r\n\r\n  useEffect(() => {\r\n    db.collection(\"newPosts\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        setPosts(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setEmail(user.displayName);\r\n  }, [user]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const feed = {\r\n      email: user.displayName,\r\n      message: input,\r\n      photoUrl: user.photoUrl || \"\",\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      comment: \"\",\r\n    };\r\n    dispatch(newPostAction(feed));\r\n    // dispatch(\r\n    //   newPostAction({\r\n    //     email: user.displayName,\r\n    //     message: input,\r\n    //     photoUrl: user.photoUrl || \"\",\r\n    //     timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    //     comment: \"\",\r\n    //   })\r\n    // );\r\n    // dispatch({\r\n    //   type: NEW_POST,\r\n    //   // type: NEW_POST,\r\n    //   // email: user.displayName,\r\n    //   // message: input,\r\n    //   // photoUrl: user.photoUrl || \"\",\r\n    //   // timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    // });\r\n    db.collection(\"newPosts\").add({\r\n      email: user.displayName,\r\n      // description: user.email,\r\n      // postId:\r\n      message: input,\r\n      photoUrl: user.photoUrl || \"\",\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"feed__container\">\r\n        <div className=\"feed__top\">\r\n          <Avatar>{email && email.split(\"\")[0]} </Avatar>\r\n          <form onSubmit={onSubmit}>\r\n            <CreateIcon className=\"icon\" />\r\n            <input type=\"text\" value={input} onChange={(e) => setInput(e.target.value)} />\r\n            <button type=\"submit\" onClick={onSubmit}>\r\n              send\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"feed__bottom\">\r\n          <div className=\"\">\r\n            <FeedInputOption Icon={ImageIcon} name=\"Photo\" color=\"#70B5F9\" />\r\n          </div>\r\n          <FeedInputOption Icon={SubscriptionsIcon} name=\"Video\" color=\"#E7A33E\" />\r\n          <FeedInputOption Icon={EventNoteIcon} name=\"Event\" color=\"#C0CBCD\" />\r\n          <FeedInputOption Icon={CalendarViewDayIcon} name=\"Write article\" color=\"#7FC15E\" />\r\n        </div>\r\n      </div>\r\n      {posts.map(({ id, data: { description, message, email, photoUrl, timestamp } }) => (\r\n        <Post\r\n          key={id}\r\n          postId={id}\r\n          description={description}\r\n          message={message}\r\n          name={email}\r\n          photoUrl={photoUrl}\r\n          timestamp={timestamp}\r\n          user={user}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Feed;\r\n","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\FeedInputOption.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Post.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\PostInputOption.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\feed\\Comments.js",["142","143"],"import React, { useState, useEffect } from \"react\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { db } from \"../firebase\";\r\nimport firebase from \"firebase\";\r\nimport \"./Comments.css\";\r\n\r\nconst Comments = ({ user, postId }) => {\r\n  const [email, setEmail] = useState();\r\n  const [input, setInput] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  //   const [comment, setComment] = useState(\"\");\r\n  console.log(user);\r\n  console.log(postId);\r\n\r\n  useEffect(() => {\r\n    let unsubscribe;\r\n    if (postId) {\r\n      unsubscribe = db\r\n        .collection(\"newPosts\")\r\n        .doc(postId)\r\n        .collection(\"comments\")\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .onSnapshot((snapshot) => {\r\n          setComments(snapshot.docs.map((doc) => doc.data()));\r\n        });\r\n    }\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [postId]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(input);\r\n    db.collection(\"newPosts\")\r\n      .doc(postId)\r\n      .collection(\"comments\")\r\n      .add({\r\n        email: user.displayName,\r\n        // description: user.email,\r\n        message: input,\r\n        photoUrl: user.photoUrl || \"\",\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n    setInput(\"\");\r\n  };\r\n\r\n  //   const postComment = (event) => {\r\n  //     event.preventDefault();\r\n\r\n  //     db.collection(\"newPosts\").doc(postId).collection(\"comments\").add({\r\n  //       text: comment,\r\n  //       username: user.displayName,\r\n  //       timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n  //     });\r\n  //     setComment(\"\");\r\n  //   };\r\n\r\n  return (\r\n    <>\r\n      <div className='comments__container'>\r\n        <div className='comments__top'>\r\n          <Avatar>{user.displayName && user.displayName.split(\"\")[0]} </Avatar>\r\n          <form onSubmit={onSubmit}>\r\n            <input type='text' value={input} onChange={(e) => setInput(e.target.value)} />\r\n            <button type='submit' onClick={onSubmit}>\r\n              Post\r\n            </button>{\" \"}\r\n          </form>\r\n        </div>\r\n        <div className='post__comments'>\r\n          {comments.map((comment) => (\r\n            <p className='post__comments__comment'>\r\n              <Avatar>{comment.email.split(\"\")[0]}</Avatar>\r\n              <b>{comment.email}</b>\r\n              <p>{comment.message}</p>\r\n            </p>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\index.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\newposts.js",[],["144","145"],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\items.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\actions\\newPostsAction.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\newPostsReducer.js",[],"F:\\Self Study_Coding\\Web\\Portfolio\\TeamProject\\in_the_middle\\src\\reducers\\itemsReducer.js",[],{"ruleId":"146","replacedBy":"147"},{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","severity":1,"message":"151","line":4,"column":35,"nodeType":"152","messageId":"153","endLine":4,"endColumn":39},{"ruleId":"154","severity":1,"message":"155","line":34,"column":6,"nodeType":"156","endLine":34,"endColumn":12,"suggestions":"157"},{"ruleId":"150","severity":1,"message":"158","line":1,"column":38,"nodeType":"152","messageId":"153","endLine":1,"endColumn":49},{"ruleId":"150","severity":1,"message":"159","line":4,"column":16,"nodeType":"152","messageId":"153","endLine":4,"endColumn":24},{"ruleId":"150","severity":1,"message":"160","line":4,"column":26,"nodeType":"152","messageId":"153","endLine":4,"endColumn":31},{"ruleId":"150","severity":1,"message":"161","line":5,"column":8,"nodeType":"152","messageId":"153","endLine":5,"endColumn":16},{"ruleId":"150","severity":1,"message":"162","line":8,"column":10,"nodeType":"152","messageId":"153","endLine":8,"endColumn":21},{"ruleId":"150","severity":1,"message":"163","line":9,"column":8,"nodeType":"152","messageId":"153","endLine":9,"endColumn":20},{"ruleId":"150","severity":1,"message":"164","line":9,"column":24,"nodeType":"152","messageId":"153","endLine":9,"endColumn":28},{"ruleId":"150","severity":1,"message":"165","line":18,"column":10,"nodeType":"152","messageId":"153","endLine":18,"endColumn":17},{"ruleId":"150","severity":1,"message":"166","line":18,"column":19,"nodeType":"152","messageId":"153","endLine":18,"endColumn":29},{"ruleId":"150","severity":1,"message":"167","line":21,"column":10,"nodeType":"152","messageId":"153","endLine":21,"endColumn":22},{"ruleId":"150","severity":1,"message":"168","line":22,"column":16,"nodeType":"152","messageId":"153","endLine":22,"endColumn":23},{"ruleId":"150","severity":1,"message":"169","line":24,"column":10,"nodeType":"152","messageId":"153","endLine":24,"endColumn":15},{"ruleId":"150","severity":1,"message":"170","line":24,"column":17,"nodeType":"152","messageId":"153","endLine":24,"endColumn":25},{"ruleId":"150","severity":1,"message":"171","line":32,"column":9,"nodeType":"152","messageId":"153","endLine":32,"endColumn":19},{"ruleId":"154","severity":1,"message":"172","line":70,"column":6,"nodeType":"156","endLine":70,"endColumn":8,"suggestions":"173"},{"ruleId":"150","severity":1,"message":"174","line":4,"column":8,"nodeType":"152","messageId":"153","endLine":4,"endColumn":12},{"ruleId":"150","severity":1,"message":"175","line":5,"column":10,"nodeType":"152","messageId":"153","endLine":5,"endColumn":23},{"ruleId":"150","severity":1,"message":"160","line":5,"column":31,"nodeType":"152","messageId":"153","endLine":5,"endColumn":36},{"ruleId":"150","severity":1,"message":"176","line":3,"column":10,"nodeType":"152","messageId":"153","endLine":3,"endColumn":12},{"ruleId":"150","severity":1,"message":"177","line":7,"column":10,"nodeType":"152","messageId":"153","endLine":7,"endColumn":15},{"ruleId":"150","severity":1,"message":"178","line":7,"column":17,"nodeType":"152","messageId":"153","endLine":7,"endColumn":25},{"ruleId":"150","severity":1,"message":"179","line":8,"column":10,"nodeType":"152","messageId":"153","endLine":8,"endColumn":18},{"ruleId":"150","severity":1,"message":"180","line":8,"column":20,"nodeType":"152","messageId":"153","endLine":8,"endColumn":31},{"ruleId":"150","severity":1,"message":"151","line":5,"column":10,"nodeType":"152","messageId":"153","endLine":5,"endColumn":14},{"ruleId":"150","severity":1,"message":"159","line":5,"column":16,"nodeType":"152","messageId":"153","endLine":5,"endColumn":24},{"ruleId":"150","severity":1,"message":"181","line":5,"column":26,"nodeType":"152","messageId":"153","endLine":5,"endColumn":36},{"ruleId":"150","severity":1,"message":"182","line":1,"column":38,"nodeType":"152","messageId":"153","endLine":1,"endColumn":44},{"ruleId":"150","severity":1,"message":"183","line":13,"column":8,"nodeType":"152","messageId":"153","endLine":13,"endColumn":20},{"ruleId":"150","severity":1,"message":"184","line":19,"column":9,"nodeType":"152","messageId":"153","endLine":19,"endColumn":16},{"ruleId":"154","severity":1,"message":"185","line":62,"column":6,"nodeType":"156","endLine":62,"endColumn":20,"suggestions":"186"},{"ruleId":"187","severity":1,"message":"188","line":89,"column":24,"nodeType":"189","messageId":"190","endLine":89,"endColumn":26},{"ruleId":"150","severity":1,"message":"191","line":22,"column":10,"nodeType":"152","messageId":"153","endLine":22,"endColumn":16},{"ruleId":"150","severity":1,"message":"192","line":22,"column":18,"nodeType":"152","messageId":"153","endLine":22,"endColumn":27},{"ruleId":"150","severity":1,"message":"177","line":8,"column":10,"nodeType":"152","messageId":"153","endLine":8,"endColumn":15},{"ruleId":"150","severity":1,"message":"178","line":8,"column":17,"nodeType":"152","messageId":"153","endLine":8,"endColumn":25},{"ruleId":"146","replacedBy":"193"},{"ruleId":"148","replacedBy":"194"},"no-native-reassign",["195"],"no-negated-in-lhs",["196"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'isLoggedIn' and 'userEmail'. Either include them or remove the dependency array. You can also do a functional update 'setUserEmail(u => ...)' if you only need 'userEmail' in the 'setUserEmail' call.","ArrayExpression",["197"],"'useCallback' is defined but never used.","'Redirect' is defined but never used.","'Route' is defined but never used.","'ShopItem' is defined but never used.","'useDispatch' is defined but never used.","'itemsReducer' is defined but never used.","'ITEM' is defined but never used.","'details' is assigned a value but never used.","'setDetails' is assigned a value but never used.","'selectedItem' is assigned a value but never used.","'setTest' is assigned a value but never used.","'asdfg' is assigned a value but never used.","'setAsdfg' is assigned a value but never used.","'selectItem' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'items', 'itemsFromRedux.data', 'sample', 'searchedItem', 'searchedItemActive', and 'test'. Either include them or remove the dependency array.",["198"],"'Shop' is defined but never used.","'BrowserRouter' is defined but never used.","'db' is defined but never used.","'email' is assigned a value but never used.","'setEmail' is assigned a value but never used.","'password' is assigned a value but never used.","'setPassword' is assigned a value but never used.","'withRouter' is defined but never used.","'useRef' is defined but never used.","'SearchResult' is defined but never used.","'history' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["199"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'postId' is assigned a value but never used.","'setPostId' is assigned a value but never used.",["195"],["196"],"no-global-assign","no-unsafe-negation",{"desc":"200","fix":"201"},{"desc":"202","fix":"203"},{"desc":"204","fix":"205"},"Update the dependencies array to be: [isLoggedIn, user, userEmail]",{"range":"206","text":"207"},"Update the dependencies array to be: [items, itemsFromRedux.data, sample, searchedItem, searchedItemActive, test]",{"range":"208","text":"209"},"Update the dependencies array to be: [dispatch, searchedItem]",{"range":"210","text":"211"},[1182,1188],"[isLoggedIn, user, userEmail]",[2497,2499],"[items, itemsFromRedux.data, sample, searchedItem, searchedItemActive, test]",[2042,2056],"[dispatch, searchedItem]"]