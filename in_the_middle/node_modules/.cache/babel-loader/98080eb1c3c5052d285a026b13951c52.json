{"ast":null,"code":"import _regeneratorRuntime from\"F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{db,storage}from\"../../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ManageItemEach=function ManageItemEach(_ref){var isOwner=_ref.isOwner,manageItemObj=_ref.manageItemObj;// console.log(isOwner);\n// console.log(manageItemObj);\nvar _manageItemObj$data=manageItemObj.data,itemImg=_manageItemObj$data.itemImg,itemName=_manageItemObj$data.itemName,itemCost=_manageItemObj$data.itemCost,timestamp=_manageItemObj$data.timestamp;var deleteFunction=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// console.log(db.doc().manageItemObj);\n// console.log(db.doc(`items/${manageItemObj.id}`));\n_context.next=3;return db.doc(\"items/\".concat(manageItemObj.id)).delete();case 3:_context.next=5;return storage.refFromURL(itemImg).delete();case 5:case\"end\":return _context.stop();}}},_callee);}));return function deleteFunction(_x){return _ref2.apply(this,arguments);};}();console.log(timestamp.toDate());var date=new Date(timestamp.toDate());var uploadDate=\"\".concat(date.getFullYear(),\" / \").concat(date.getMonth(),\" / \").concat(date.getDate());//   console.log(uploadDate);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:isOwner&&/*#__PURE__*/_jsx(\"li\",{className:\"manageItem__list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"manageItem__list__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"manageItem__list__item__left\",children:[/*#__PURE__*/_jsx(\"img\",{src:itemImg,alt:\"item\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"manageItem__list__item__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"itemName\",children:itemName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",itemCost]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"manageItem__list__item__right\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Upload Date: \",uploadDate]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:deleteFunction,children:\"Delete Post\"})})]})]})})});};export default ManageItemEach;","map":{"version":3,"sources":["F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/src/components/manageItem/ManageItemEach.js"],"names":["React","db","storage","ManageItemEach","isOwner","manageItemObj","data","itemImg","itemName","itemCost","timestamp","deleteFunction","e","preventDefault","doc","id","delete","refFromURL","console","log","toDate","date","Date","uploadDate","getFullYear","getMonth","getDate"],"mappings":"mWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,EAAT,CAAaC,OAAb,KAA4B,gBAA5B,C,6IAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAgC,IAA7BC,CAAAA,OAA6B,MAA7BA,OAA6B,CAApBC,aAAoB,MAApBA,aAAoB,CACrD;AACA;AAEA,wBAEIA,aAFJ,CACEC,IADF,CACUC,OADV,qBACUA,OADV,CACmBC,QADnB,qBACmBA,QADnB,CAC6BC,QAD7B,qBAC6BA,QAD7B,CACuCC,SADvC,qBACuCA,SADvC,CAIA,GAAMC,CAAAA,cAAc,2FAAG,iBAAOC,CAAP,kHACrBA,CAAC,CAACC,cAAF,GACA;AACA;AAHqB,sBAIfZ,CAAAA,EAAE,CAACa,GAAH,iBAAgBT,aAAa,CAACU,EAA9B,GAAoCC,MAApC,EAJe,8BAKfd,CAAAA,OAAO,CAACe,UAAR,CAAmBV,OAAnB,EAA4BS,MAA5B,EALe,uDAAH,kBAAdL,CAAAA,cAAc,6CAApB,CAQAO,OAAO,CAACC,GAAR,CAAYT,SAAS,CAACU,MAAV,EAAZ,EACA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASZ,SAAS,CAACU,MAAV,EAAT,CAAb,CACA,GAAMG,CAAAA,UAAU,WAAMF,IAAI,CAACG,WAAL,EAAN,eAA8BH,IAAI,CAACI,QAAL,EAA9B,eAAmDJ,IAAI,CAACK,OAAL,EAAnD,CAAhB,CACA;AACA,mBACE,yBACGtB,OAAO,eACN,WAAI,SAAS,CAAC,kBAAd,uBAEE,aAAK,SAAS,CAAC,wBAAf,wBACE,aAAK,SAAS,CAAC,8BAAf,wBACE,YAAK,GAAG,CAAEG,OAAV,CAAmB,GAAG,CAAC,MAAvB,EADF,cAEE,aAAK,SAAS,CAAC,8BAAf,wBACE,UAAG,SAAS,CAAC,UAAb,UAAyBC,QAAzB,EADF,cAEE,yBAAKC,QAAL,GAFF,GAFF,GADF,cAQE,aAAK,SAAS,CAAC,+BAAf,wBACE,qCAAiBc,UAAjB,GADF,cAEE,kCACE,eAAQ,OAAO,CAAEZ,cAAjB,yBADF,EAFF,GARF,GAFF,EAFJ,EADF,CAwBD,CA5CD,CA8CA,cAAeR,CAAAA,cAAf","sourcesContent":["import React from \"react\";\r\nimport { db, storage } from \"../../firebase\";\r\n\r\nconst ManageItemEach = ({ isOwner, manageItemObj }) => {\r\n  // console.log(isOwner);\r\n  // console.log(manageItemObj);\r\n\r\n  const {\r\n    data: { itemImg, itemName, itemCost, timestamp },\r\n  } = manageItemObj;\r\n\r\n  const deleteFunction = async (e) => {\r\n    e.preventDefault();\r\n    // console.log(db.doc().manageItemObj);\r\n    // console.log(db.doc(`items/${manageItemObj.id}`));\r\n    await db.doc(`items/${manageItemObj.id}`).delete();\r\n    await storage.refFromURL(itemImg).delete();\r\n  };\r\n\r\n  console.log(timestamp.toDate());\r\n  const date = new Date(timestamp.toDate());\r\n  const uploadDate = `${date.getFullYear()} / ${date.getMonth()} / ${date.getDate()}`;\r\n  //   console.log(uploadDate);\r\n  return (\r\n    <>\r\n      {isOwner && (\r\n        <li className='manageItem__list'>\r\n          {/* <input type='checkbox' name='check' /> */}\r\n          <div className='manageItem__list__item'>\r\n            <div className='manageItem__list__item__left'>\r\n              <img src={itemImg} alt='item' />\r\n              <div className='manageItem__list__item__info'>\r\n                <p className='itemName'>{itemName}</p>\r\n                <p>${itemCost}</p>\r\n              </div>\r\n            </div>\r\n            <div className='manageItem__list__item__right'>\r\n              <p>Upload Date: {uploadDate}</p>\r\n              <div>\r\n                <button onClick={deleteFunction}>Delete Post</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageItemEach;\r\n"]},"metadata":{},"sourceType":"module"}