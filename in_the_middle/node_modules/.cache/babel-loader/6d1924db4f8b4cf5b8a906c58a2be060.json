{"ast":null,"code":"import _slicedToArray from\"F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{db}from\"../../firebase\";import Header from\"../header/Header\";import\"./ManageItem.css\";import ManageItemEach from\"./ManageItemEach\";// import { db } from \"../../firebase\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManageItem=function ManageItem(_ref){var userId=_ref.userId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];// const [uid, setUid] = useState(userId);\n//   const [itemArray, setItemArray] = useState([]);\n// console.log(userId);\n// let itemArray = [];\n//   useEffect(() => {\n//     // console.log(userId);\n//     console.log(uid);\n//     // if (userId) {\n//     //unsubscribe =\n//     db.collection(\"items\")\n//       //   .doc(userId)\n//       .orderBy(\"timestamp\", \"desc\")\n//       .onSnapshot(\n//         (snapshot) =>\n//           // setItems(\n//           //   console.log(snapshot)\n//           {\n//             // snapshot.docs.map((doc) => {\n//             //   if (doc.data().userId === userId) {\n//             //     console.log(doc.data());\n//                 setItems(\n//                   snapshot.docs.map((doc) => ({\n//                     id: doc.id,\n//                     data: doc.data(),\n//                   }))\n//                 );\n//                 // setItems(\n//                 //   snapshot.docs.map((doc) => ({\n//                 //     id: doc.id,\n//                 //     data: doc.data(),\n//                 //   }))\n//                 // );\n//               })\n//             });\n//         //   }\n//         // )\n//     //   );\n//     console.log(items);\n//     //   console.log(\"setItems\", items);\n//     //   console.log(userId);\n//     // }\n//     // console.log(items);\n//     // return () => {\n//     //   unsubscribe();\n//     // };\n//   }, []);\nuseEffect(function(){db.collection(\"items\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setItems(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);//   items.map((item) => {\n//     console.log(item.data);\n//     console.log(item.data.userId);\n//     console.log(userId);\n//     if (item.data.userId === userId) {\n//       setItemArray({\n//         data: item.data,\n//       });\n//     }\n//   });\n// console.log(items);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"manageItem\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Manage Post\"}),/*#__PURE__*/_jsx(\"div\",{children:items.map(function(item){return/*#__PURE__*/_jsx(ManageItemEach,{manageItemObj:item,isOwner:item.data.userId===userId},item.id)// console.log(item)\n;})})]})]});};export default ManageItem;","map":{"version":3,"sources":["F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/src/components/manageItem/ManageItem.js"],"names":["React","useEffect","useState","db","Header","ManageItemEach","ManageItem","userId","items","setItems","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","item"],"mappings":"mLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA;wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CACjC,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAR,SAAS,CAAC,UAAM,CACdE,EAAE,CAACO,UAAH,CAAc,OAAd,EACGC,OADH,CACW,WADX,CACwB,MADxB,EAEGC,UAFH,CAEc,SAACC,QAAD,QACVJ,CAAAA,QAAQ,CACNI,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CAC1BC,EAAE,CAAED,GAAG,CAACC,EADkB,CAE1BC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAFoB,CAAV,EAAlB,CADM,CADE,EAFd,EAUD,CAXQ,CAWN,EAXM,CAAT,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,oCADF,cAGE,qBACGV,KAAK,CAACO,GAAN,CAAU,SAACI,IAAD,qBACT,KAAC,cAAD,EAEE,aAAa,CAAEA,IAFjB,CAGE,OAAO,CAAEA,IAAI,CAACD,IAAL,CAAUX,MAAV,GAAqBA,MAHhC,EACOY,IAAI,CAACF,EADZ,CAKA;AANS,EAAV,CADH,EAHF,GAFF,GADF,CA2CD,CAvHD,CAyHA,cAAeX,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../../firebase\";\r\nimport Header from \"../header/Header\";\r\nimport \"./ManageItem.css\";\r\nimport ManageItemEach from \"./ManageItemEach\";\r\n// import { db } from \"../../firebase\";\r\n\r\nconst ManageItem = ({ userId }) => {\r\n  const [items, setItems] = useState([]);\r\n  // const [uid, setUid] = useState(userId);\r\n  //   const [itemArray, setItemArray] = useState([]);\r\n  // console.log(userId);\r\n\r\n  // let itemArray = [];\r\n\r\n  //   useEffect(() => {\r\n  //     // console.log(userId);\r\n  //     console.log(uid);\r\n  //     // if (userId) {\r\n  //     //unsubscribe =\r\n\r\n  //     db.collection(\"items\")\r\n  //       //   .doc(userId)\r\n  //       .orderBy(\"timestamp\", \"desc\")\r\n  //       .onSnapshot(\r\n  //         (snapshot) =>\r\n  //           // setItems(\r\n  //           //   console.log(snapshot)\r\n  //           {\r\n  //             // snapshot.docs.map((doc) => {\r\n  //             //   if (doc.data().userId === userId) {\r\n  //             //     console.log(doc.data());\r\n  //                 setItems(\r\n  //                   snapshot.docs.map((doc) => ({\r\n  //                     id: doc.id,\r\n  //                     data: doc.data(),\r\n  //                   }))\r\n  //                 );\r\n  //                 // setItems(\r\n  //                 //   snapshot.docs.map((doc) => ({\r\n  //                 //     id: doc.id,\r\n  //                 //     data: doc.data(),\r\n  //                 //   }))\r\n  //                 // );\r\n  //               })\r\n  //             });\r\n  //         //   }\r\n  //         // )\r\n  //     //   );\r\n  //     console.log(items);\r\n  //     //   console.log(\"setItems\", items);\r\n  //     //   console.log(userId);\r\n  //     // }\r\n  //     // console.log(items);\r\n  //     // return () => {\r\n  //     //   unsubscribe();\r\n  //     // };\r\n  //   }, []);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"items\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) =>\r\n        setItems(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        )\r\n      );\r\n  }, []);\r\n\r\n  //   items.map((item) => {\r\n  //     console.log(item.data);\r\n  //     console.log(item.data.userId);\r\n  //     console.log(userId);\r\n  //     if (item.data.userId === userId) {\r\n  //       setItemArray({\r\n  //         data: item.data,\r\n  //       });\r\n  //     }\r\n  //   });\r\n  // console.log(items);\r\n  return (\r\n    <div className='container'>\r\n      <Header />\r\n      <div className='manageItem'>\r\n        <h2> Manage Post</h2>\r\n\r\n        <div>\r\n          {items.map((item) => (\r\n            <ManageItemEach\r\n              key={item.id}\r\n              manageItemObj={item}\r\n              isOwner={item.data.userId === userId}\r\n            />\r\n            // console.log(item)\r\n          ))}\r\n          {/* <ManageItemEach /> */}\r\n        </div>\r\n\r\n        {/* <li className='manageItem__list'>\r\n        <input type='checkbox' name='check' />\r\n        \r\n          <div className='manageItem__list__item'>\r\n        \r\n            <div className='manageItem__list__item__left'>\r\n             <img src={itemImg} alt='' />\r\n       \r\n              <div className='manageItem__list__item__info'>\r\n            <p>{itemName}</p>\r\n                 <p>${itemCost}</p>\r\n               \r\n              </div>\r\n  \r\n        \r\n            </div>\r\n        <div className='manageItem__list__item__right'></div>\r\n       \r\n          </div>\r\n      \r\n        </li>\r\n ))} */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageItem;\r\n"]},"metadata":{},"sourceType":"module"}