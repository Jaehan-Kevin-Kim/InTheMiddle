{"ast":null,"code":"import _slicedToArray from\"F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./Shop.css\";import Header from\"../header/Header\";import{Link,Redirect,Route}from\"react-router-dom\";import ShopItem from\"./ShopItem\";import{db}from\"../../firebase\";import ShopDetail from\"../shopDetail/ShopDetail\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(_ref){var shopDetail=_ref.shopDetail,searchBtnClicked=_ref.searchBtnClicked,itemViews=_ref.itemViews;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),cost=_useState6[0],setCost=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),views=_useState12[0],setViews=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),details=_useState14[0],setDetails=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),items=_useState16[0],setItems=_useState16[1];var _useState17=useState(shopDetail),_useState18=_slicedToArray(_useState17,2),toShopDetail=_useState18[0],setToShopDetail=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),selectedItem=_useState20[0],setSelectedItem=_useState20[1];var selectItem=function selectItem(items){setSelectedItem(items);};console.log(itemViews);useEffect(function(){db.collection(\"items\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setItems(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:toShopDetail?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ShopDetail// key={id}\n,{selectedItem:true,img:img,name:name,cost:cost,views:views,location:location,description:description,shopDetail:toShopDetail})}):/*#__PURE__*/ // </Redirect>\n_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"shop__main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shop__main__addAction\",children:[/*#__PURE__*/_jsx(Link,{to:\"/manageItem\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn_post\",children:\"Manage Item\"})}),/*#__PURE__*/_jsx(Link,{to:\"/uploadItem\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn_post\",children:\"Post Ad\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:items.map(function(_ref2){var id=_ref2.id,_ref2$data=_ref2.data,itemName=_ref2$data.itemName,itemImg=_ref2$data.itemImg,itemCost=_ref2$data.itemCost,itemRegion=_ref2$data.itemRegion,itemDesc=_ref2$data.itemDesc;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(e){console.log(toShopDetail);console.log(itemName);console.log(views);e.preventDefault();setToShopDetail(true);setName(itemName);setImg(itemImg);setViews(itemViews+1);setCost(itemCost);setDescription(itemDesc);setLocation(itemRegion);},children:[/*#__PURE__*/_jsx(\"img\",{src:itemImg,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"itemName\",children:itemName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",itemCost]})]})});})})]})]})// </div>\n});};export default Shop;","map":{"version":3,"sources":["F:/Self Study_Coding/Web/Portfolio/TeamProject/in_the_middle/src/components/shop/Shop.js"],"names":["React","useState","useEffect","Header","Link","Redirect","Route","ShopItem","db","ShopDetail","Shop","shopDetail","searchBtnClicked","itemViews","img","setImg","name","setName","cost","setCost","location","setLocation","description","setDescription","views","setViews","details","setDetails","items","setItems","toShopDetail","setToShopDetail","selectedItem","setSelectedItem","selectItem","console","log","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","itemName","itemImg","itemCost","itemRegion","itemDesc","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Shop.css\";\r\nimport Header from \"../header/Header\";\r\nimport { Link, Redirect, Route } from \"react-router-dom\";\r\nimport ShopItem from \"./ShopItem\";\r\nimport { db } from \"../../firebase\";\r\nimport ShopDetail from \"../shopDetail/ShopDetail\";\r\n\r\nconst Shop = ({ shopDetail, searchBtnClicked, itemViews }) => {\r\n  const [img, setImg] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [cost, setCost] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [views, setViews] = useState(0);\r\n  const [details, setDetails] = useState();\r\n  const [items, setItems] = useState([]);\r\n  const [toShopDetail, setToShopDetail] = useState(shopDetail);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const selectItem = (items) => {\r\n    setSelectedItem(items);\r\n  };\r\n\r\n  console.log(itemViews);\r\n  useEffect(() => {\r\n    db.collection(\"items\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) =>\r\n        setItems(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        )\r\n      );\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {toShopDetail ? (\r\n        <>\r\n          <ShopDetail\r\n            // key={id}\r\n            selectedItem\r\n            img={img}\r\n            name={name}\r\n            cost={cost}\r\n            views={views}\r\n            location={location}\r\n            description={description}\r\n            shopDetail={toShopDetail}\r\n          />\r\n        </>\r\n      ) : (\r\n        // </Redirect>\r\n        <div className='container'>\r\n          {/* {searchBtnClicked ? <div></div> : } */}\r\n          <Header />\r\n          <div className='shop__main'>\r\n            <div className='shop__main__addAction'>\r\n              <Link to='/manageItem'>\r\n                <button className='btn_post'>Manage Item</button>\r\n              </Link>\r\n              <Link to='/uploadItem'>\r\n                <button className='btn_post'>Post Ad</button>\r\n              </Link>\r\n            </div>\r\n            {/* <div className='shop__link'> */}\r\n            <div className='items'>\r\n              {items.map(({ id, data: { itemName, itemImg, itemCost, itemRegion, itemDesc } }) => (\r\n                <>\r\n                  <div\r\n                    className='item'\r\n                    onClick={(e) => {\r\n                      console.log(toShopDetail);\r\n                      console.log(itemName);\r\n                      console.log(views);\r\n                      e.preventDefault();\r\n                      setToShopDetail(true);\r\n                      setName(itemName);\r\n                      setImg(itemImg);\r\n                      setViews(itemViews + 1);\r\n                      setCost(itemCost);\r\n                      setDescription(itemDesc);\r\n                      setLocation(itemRegion);\r\n                    }}>\r\n                    <img src={itemImg} alt='' />\r\n                    <p className='itemName'>{itemName}</p>\r\n                    <p>${itemCost}</p>\r\n                    {/* <p>{itemViews}</p> */}\r\n                  </div>\r\n                </>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        // </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"]},"metadata":{},"sourceType":"module"}